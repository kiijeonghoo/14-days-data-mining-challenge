# 14-days-data-mining-challenge ğŸ“Š

2020å¹´3æœˆDatawhaleç¬¬åä¸€æœŸç»„é˜Ÿå­¦ä¹ æŒ‘æˆ˜    

å­¦ä¹ å†…å®¹ä¸ºï¼šæ•°æ®æŒ–æ˜ä¹‹äºŒæ‰‹è½¦äº¤æ˜“ä»·æ ¼é¢„æµ‹ï¼Œæ¥è‡ª Datawhaleä¸å¤©æ± è”åˆå‘èµ·çš„â€œ0åŸºç¡€å…¥é—¨ç³»åˆ—â€èµ›äº‹ç¬¬ä¸€åœºã€‚

https://tianchi.aliyun.com/competition/entrance/231784/introduction   

**Starâ­ me if you find usefulğŸ¤£**

## å­¦ä¹ å†…å®¹ä¸è¿›åº¦ å®Œç»“æ’’èŠ± ğŸ‰

è¯¦ç»†çš„ä¸ªäººç¬”è®°å’Œæ³¨è§£è§[notebook](/nbs/)ä¸­æ‰¹æ³¨ï¼Œä»¥ä¸‹æ˜¯æ¯ä¸ªtaskçš„æ€»ç»“ğŸ‘‡

### Task00 - [**Baseline**](/nbs/Task0-Baseline.ipynb) ğŸ¦

- ç‰¹å¾ - æ•°å€¼ç‰¹å¾ (gearbox, power, kilometer, v_0 - v14) / ç±»åˆ«ç‰¹å¾æ²¡æœ‰é€‰å–
- ç¼ºå¤±å€¼å¤„ç† - å¡«å…… (-1)
- å•æ¨¡å‹æµ‹è¯• - XGB + 5KFold (val MAE=714) / train : val (7 : 3) + LGB (val MAE=679) / train : val (7 : 3) + XGB (val MAE=704)
- æ¨¡å‹èåˆ - XGB + LGB + ç®€å•åŠ æƒ + ä¿®æ­£è´Ÿå€¼ (val MAE=676)

### Task01 - [èµ›é¢˜ç†è§£](/nbs/Task1-èµ›é¢˜ç†è§£.ipynb) ğŸ¦

- åˆ†ç±»è¯„ä»·æŒ‡æ ‡ - accuracy / precision / recall / f1-score / AUC
- å›å½’è¯„ä»·æŒ‡æ ‡ - MAE / MSE / MAPE / RMSE / R2
- æ•°æ® - åŒ¿åç‰¹å¾15ç»´ / éåŒ¿åç‰¹å¾15dç»´ / è®­ç»ƒé›†15ä¸‡æ¡ / æµ‹è¯•é›†5ä¸‡æ¡
### Task02 - [æ¢ç´¢æ€§åˆ†æ (EDA)](/nbs/Task2-æ•°æ®åˆ†æ.ipynb) ğŸ¦

- ç›¸å…³åŒ… - pandas / numpy / scipy / matplotlib / seaborn / missingno-ç”¨äºç¼ºå¤±å€¼å¯è§†åŒ– / pandas_profiling
- è½½å…¥æ•°æ® - head() / tail() / shape 
- æ•°æ®æ€»è§ˆ - describe() ç†Ÿæ‚‰æ•°æ®ç»Ÿè®¡é‡ / info() ç†Ÿæ‚‰æ•°æ®ç±»å‹
- ç¼ºå¤±å’Œå¼‚å¸¸ - isnull().sum() / msno.matrix() / msno.bar() / value_counts() / replace() / ç±»åˆ«ç‰¹å¾å‡ºç°ä¸¥é‡åæ–œçš„å¤„ç†
- é¢„æµ‹å€¼åˆ†å¸ƒ - sns.distplot() å¯ç”¨scipyåº“fitæ‹Ÿåˆå‚æ•°åˆ†å¸ƒ / skew() ååº¦ / kurt() å³°åº¦ /  æ•°æ®å‘ˆåæ€åˆ†å¸ƒå¯ç”¨logå˜æ¢
- æ•°å­—ç‰¹å¾ - corr() ç›¸å…³æ€§åˆ†æ(é»˜è®¤Pearson) / heatmap() / facetgrids() / pairplot() / å¤šå›¾å¯è§†åŒ–åˆ†å¸ƒå’Œç›¸äº’å…³ç³»
- ç±»åˆ«ç‰¹å¾ - nunique() + value_counts() æŸ¥çœ‹ç±»åˆ«å˜é‡åˆ†å¸ƒ / boxplot() / violinplot / barplot() / countplot() å¯è§†åŒ–
- æ•°æ®æŠ¥å‘Š - pandas_profiling ç”Ÿæˆæ•°æ®æŠ¥å‘Š (ç®€å•å…¨é¢ï¼Œä½†é€Ÿåº¦è¾ƒæ…¢)
- pandasæŸ¥æ¼è¡¥ç¼º - append() / plot() / sample() / melt() / DF['col'].astype('category').cat.add_categories() 

### Task03 - [ç‰¹å¾å·¥ç¨‹](/nbs/Task3-ç‰¹å¾å·¥ç¨‹.ipynb) ğŸ¦

- å¼‚å¸¸å€¼å¤„ç† - ç®±çº¿å›¾åˆ é™¤å¼‚å¸¸å€¼ / Box-Coxå˜æ¢ å¦‚ log(1+x) / é•¿å°¾æˆªæ–­
- ç¼ºå¤±å€¼å¤„ç† - XGBoostç­‰æ ‘æ¨¡å‹ (ä¸å¤„ç†) / ç¼ºå¤±å¤ªå¤š (åˆ é™¤) / æ’å€¼è¡¥å…¨ (å‡å€¼ä¸­ä½æ•°ä¼—æ•°ç­‰) / åˆ†ç®± (ç¼ºå¤±å€¼åˆ†ä¸€ä¸ªç®±)
- ç‰¹å¾å½’ä¸€åŒ–/æ ‡å‡†åŒ– - æ ‡å‡†åŒ– - æ ‡å‡†æ­£æ€åˆ†å¸ƒ / å½’ä¸€åŒ– - [0,1]åŒºé—´ / å¹‚å¾‹åˆ†å¸ƒæƒ…å†µ
- æ•°æ®åˆ†ç®± - æ•°æ®ç¦»æ•£åŒ– / ç­‰é¢‘åˆ†ç®± / ç­‰è·åˆ†ç®± / Best-KSåˆ†ç®± / å¡æ–¹åˆ†ç®±
- ç‰¹å¾æ„é€  - ç»Ÿè®¡é‡ç‰¹å¾ (è®¡æ•°æ±‚å’Œæ¯”ä¾‹ç­‰) / æ—¶é—´ç‰¹å¾ / åœ°ç†ä¿¡æ¯ / éçº¿æ€§å˜æ¢ / ç‰¹å¾ç»„åˆ ç‰¹å¾äº¤å‰
- ç‰¹å¾ç­›é€‰ - è¿‡æ»¤å¼ (å…ˆç­›é€‰åè®­ç»ƒ) / åŒ…è£¹å¼ (å°†å­¦ä¹ å™¨æ€§èƒ½ä½œä¸ºç‰¹å¾å­é›†çš„è¯„ä»·å‡†åˆ™) / åµŒå…¥å¼ (å­¦ä¹ è¿‡ç¨‹è‡ªåŠ¨ç‰¹å¾é€‰æ‹©)
- é™ç»´ - PCA / LDA / ICA / ç‰¹å¾ç­›é€‰ä¹Ÿæ˜¯ä¸€ç§é™ç»´
- pandasæŸ¥æ¼è¡¥ç¼º - quantile() / to_datatime() / groupby() åçš„ for éå† / merge() / cut() 

### Task04 - [å»ºæ¨¡ä¸è°ƒå‚](/nbs/Task4-å»ºæ¨¡è°ƒå‚.ipynb) ğŸ¦

#### - çº¿æ€§æ¨¡å‹

- çº¿æ€§æ¨¡å‹å¯¹äºç‰¹å¾çš„è¦æ±‚ -  æ•°æ®é¡¹è¯¯å·®ç¬¦åˆæ­£æ€åˆ†å¸ƒ
- å¤„ç†é•¿å°¾åˆ†å¸ƒ - log(x + 1)
- äº¤å‰éªŒè¯ - `cross_val_score`ï¼Œå¦‚kæŠ˜äº¤å‰éªŒè¯ï¼Œæ¯æŠ˜æ•°æ®éƒ½åšè¿‡ä¸€æ¬¡éªŒè¯é›†
- æ—¶é—´ç‰¹å¾å¯¹äºæ¨¡å‹çš„å½±å“ - åŸºäºçœŸå®ä¸šåŠ¡çš„æ¨¡å‹åœ¨æ—¶é—´çš„é¡ºåºä¸Šå¿…é¡»æ­£ç¡®
- å­¦ä¹ æ›²çº¿å’ŒéªŒè¯æ›²çº¿ - **learing_curve**æ ·æœ¬å¤§å°ä¸å‡†ç¡®ç‡çš„å…³ç³» / **validation_curve**æ¨¡å‹å‚æ•°ä¸å‡†ç¡®ç‡ä¹‹é—´çš„å…³ç³»
- åµŒå…¥å¼ç‰¹å¾é€‰æ‹© - çº¿æ€§æ¨¡å‹ + L1æ­£åˆ™ = Ridge å²­å›å½’ / çº¿æ€§æ¨¡å‹ + L2æ­£åˆ™ = Lassoå›å½’ / å†³ç­–æ ‘é€šè¿‡ä¿¡æ¯ç†µé€‰æ‹©åˆ†è£‚èŠ‚ç‚¹

#### - éçº¿æ€§æ¨¡å‹

- å¸¸ç”¨éçº¿æ€§æ¨¡å‹ - æ”¯æŒå‘é‡æœº / å†³ç­–æ ‘ / éšæœºæ£®æ— / æ¢¯åº¦æå‡å›å½’ / å¤šå±‚æ„ŸçŸ¥æœº / XGBoost / Lightgbm
- æ¨¡å‹è°ƒå‚ - è´ªå¿ƒè°ƒå‚ / Grid Searchè°ƒå‚ / è´å¶æ–¯è°ƒå‚

### Task05 - [æ¨¡å‹èåˆ](/nbs/Task5-æ¨¡å‹èåˆ.ipynb) ğŸ¦

#### - ç®€å•åŠ æƒèåˆ

- å›å½’ (åˆ†ç±»æ¦‚ç‡) - å¹³å‡æ³• (å¤šä¸ªå­¦ä¹ å™¨è¾“å‡ºç»“æœæ±‚å‡å€¼) / ç®€å•åŠ æƒå¹³å‡ / ç®—æ•°å¹³å‡ / å‡ ä½•å¹³å‡ / ä¸­ä½æ•°
- åˆ†ç±» - æŠ•ç¥¨æ³• (é€‰æ‹©å¤šä¸ªå­¦ä¹ å™¨è¾“å‡ºæœ€å¤šçš„ç±») / ç¡¬æŠ•ç¥¨ (ä¸åŒºåˆ†æ¨¡å‹ç»“æœç›¸å¯¹é‡è¦æ€§, å¾—ç¥¨æ•°æœ€å¤šçš„ç±»ä¸ºæœ€ç»ˆç»“æœ) / è½¯æŠ•ç¥¨ (ä¸ºä¸åŒæ¨¡å‹è®¾ç½®ä¸åŒæƒé‡, åŒºåˆ«æ¨¡å‹çš„é‡è¦æ€§) / ä½¿ç”¨`VotingClassifier`
- ç»¼åˆ - æ’åºèåˆ / logèåˆ


#### - Stacking

- åŸºæœ¬æ€æƒ³ - åˆå§‹è®­ç»ƒæ•°æ® --> è®­ç»ƒè‹¥å¹²åˆå§‹å­¦ä¹ å™¨ --> é¢„æµ‹ç»“æœ --> ä½œä¸ºæ¬¡çº§å­¦ä¹ å™¨çš„è®­ç»ƒé›† --> è®­ç»ƒæ¬¡çº§å­¦ä¹ å™¨
- è§£å†³è¿‡æ‹Ÿåˆé—®é¢˜ - æ¬¡çº§å­¦ä¹ å™¨å°½é‡é€‰æ‹©ç®€å•çº¿æ€§æ¨¡å‹ / KæŠ˜äº¤å‰éªŒè¯
- æ¬¡çº§å­¦ä¹ å™¨è®­ç»ƒé›† - å¤šä¸ªåˆå§‹å­¦ä¹ å™¨åœ¨**åŸtrain**ä¸Šçš„é¢„æµ‹ P1, P2 ... Pn, **åŸtrain**çš„çœŸå®æ ‡ç­¾label
- æ¬¡çº§å­¦ä¹ å™¨æµ‹è¯•é›† - å¤šä¸ªåˆå§‹å­¦ä¹ å™¨åœ¨**åŸtest**ä¸Šçš„é¢„æµ‹ T1, T2 ... Tn, **åŸtest**çš„çœŸå®æ ‡ç­¾label
- `mlxtend`åº“ - `StackingClassifier()`ç®€åŒ–äº†Stacking, `plot_decision_regions()`ç»˜å›¾å¯è§†åŒ–

#### - Blending

- åŸºæœ¬æ€æƒ³ - **åŸtrain**åˆ†ä¸º sub_train, sub_test --> è‹¥å¹²åˆå§‹å­¦ä¹ å™¨è®­ç»ƒ sub_train --> é¢„æµ‹ sub_test å’ŒåŸ test --> sub_test é¢„æµ‹ç»“æœä½œä¸ºæ¬¡çº§å­¦ä¹ å™¨è®­ç»ƒé›†ï¼Œ**åŸtest**é¢„æµ‹ç»“æœä½œä¸ºæµ‹è¯•é›† -->æ¬¡çº§å­¦ä¹ å™¨
- ä¼˜ç‚¹ - æ¯”Stackingç®€å• (æ— éœ€kæŠ˜äº¤å‰éªŒè¯) / é¿å…ä¿¡æ¯æ³„éœ² data leakage (åˆå§‹å­¦ä¹ å™¨å’Œæ¬¡çº§å­¦ä¹ å™¨ä½¿ç”¨çš„è®­ç»ƒé›†ä¸åŒ)
- ç¼ºç‚¹ - ç¬¬äºŒé˜¶æ®µä½¿ç”¨äº†å¾ˆå°‘æ•°æ® / è¿‡æ‹Ÿåˆ / ä¸å¦‚ Stacking çš„kæŠ˜äº¤å‰éªŒè¯ç¨³å¥

#### - å…¶ä»–æ–¹æ³•

- å¦‚StackingåŸºç¡€ä¸Šå¯¹åˆå§‹å­¦ä¹ å™¨çš„é¢„æµ‹ç»“æœ**åšå˜æ¢**(å¹³æ–¹, æŒ‡æ•°, log) åå½¢æˆæ¬¡çº§å­¦ä¹ å™¨çš„è®­ç»ƒé›†

### PythonæŸ¥æ¼è¡¥ç¼º

#### pandas ğŸ¼

- `memory_usage(deep=True)`è¿”å›æ¯åˆ—çš„å†…å­˜å ç”¨(Bytes)
- `sort_values("col")`æŒ‰æŸä¸€åˆ—æ’åº
- `select_dtypes(exclude = 'object').columns`é€‰å–æ•°å€¼ç‰¹å¾çš„ columns
- `select_dtypes(include = 'object').columns`é€‰å–ç±»åˆ«ç‰¹å¾çš„ columns

#### numpy ğŸ§©

- `np.iinfo(np.int8)`, æŸ¥çœ‹æ•°æ®ç±»å‹çš„ä¿¡æ¯ï¼Œå¦‚æŸ¥çœ‹æœ€å¤§æœ€å°å€¼`np.iinfo(np.int8).min`
- `np.percentile(array, 75)`, `np.quantile(a, 0.75)`åˆ†ä½æ•°è®¡ç®—ï¼Œ æ³¨æ„äºŒè€…ä¸åŒç‚¹
- `np.nan_to_num()`ï¼ŒæŠŠnanè½¬æ¢æˆ0ï¼Œinfè½¬æ¢æˆæœ‰é™å¤§å°çš„æ•°

#### sklearn ğŸ“š

- çº¿æ€§æ¨¡å‹`model = LinearRegression()`, `model.coef_`æŸ¥çœ‹æƒé‡ï¼Œ`model.intercept_`æŸ¥çœ‹æˆªè·
- `cross_val_score()`ç”¨äºäº¤å‰éªŒè¯
- `GridSearchCV()`ç”¨äºç½‘æ ¼è°ƒå‚
- `BayesianOptimization()`ç”¨äºè´å¶æ–¯è°ƒå‚
- `VotingClassifier()`ç”¨äºæ¨¡å‹èåˆçš„æŠ•ç¥¨æ³•, å‚æ•°`voting`å¯é€‰æ‹© hard ç¡¬æŠ•ç¥¨ soft è½¯æŠ•ç¥¨
- `KFold()`ä¸`StratifiedKFold()`åŒºåˆ«ï¼šåè€…æ˜¯åˆ†å±‚é‡‡æ ·, ç¡®ä¿train, testä¸­å„ç±»åˆ«æ ·æœ¬çš„æ¯”ä¾‹ä¸åŸå§‹æ•°æ®é›†ä¸­ç›¸åŒ
- `predict()`ä¸`predict_proba()`åŒºåˆ«ï¼šå‰è€…è¿”å›é¢„æµ‹ç»“æœ, æ ‡ç­¾å€¼, åè€…è¿”å›æ ·æœ¬åœ¨å„ä¸ªæ ‡ç­¾å€¼ä¸Šçš„æ¦‚ç‡

#### matplotlib ğŸ¨

- `axes.fill_between()`å¡«å……ä¸¤æ¡çº¿ä¹‹é—´çš„åŒºåŸŸ
- [`gridspec.GridSpec()`](https://matplotlib.org/tutorials/intermediate/gridspec.html) å®šä¹‰å­å›¾, å®ç°å­å›¾è·¨è¶Šåˆ†åŒº

## ç›´æ’­æ±‡æ€» & ç­”ç–‘æ±‡æ€»

- [Baseline + Task1- èµ›é¢˜ç†è§£](https://tianchi.aliyun.com/course/video?liveId=41143) ([ppt](/ppt/å¤©æ± ç›´æ’­-BaselineåŠèµ›é¢˜ç†è§£.pdf))
- [Task2 - EDA](https://tianchi.aliyun.com/course/video?liveId=41143) ([ppt](/ppt/å¤©æ± ç›´æ’­-EDA.pdf))
- [Task3 - ç‰¹å¾å·¥ç¨‹](https://tianchi.aliyun.com/course/video?liveId=41145) ([ppt](/ppt/å¤©æ± ç›´æ’­-ç‰¹å¾å·¥ç¨‹.pdf))
- [Task4 - å»ºæ¨¡è°ƒå‚](https://tianchi.aliyun.com/course/video?liveId=41146) ([ppt](/ppt/å¤©æ± ç›´æ’­-æ¨¡å‹æ„å»ºåŠé¢„æµ‹.pdf))
- [Task5 - æ¨¡å‹èåˆ](https://tianchi.aliyun.com/course/live?liveId=41149) (ppt) #TODO
- [çŸ³å¢¨ç­”ç–‘æ±‡æ€»](https://shimo.im/docs/HgcgKvDQTQx3gCWd)

## å‚è€ƒèµ„æ–™

Datawhaleå¼€æºå­¦ä¹ èµ„æ–™ï¼šhttps://github.com/datawhalechina/team-learning 

å¤©æ± æ¯”èµ›è®ºå›ï¼šhttps://tianchi.aliyun.com/competition/entrance/231784/forum



